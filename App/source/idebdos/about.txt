  Ќа ќрионе € решил делать так: винт разбиваетс€ на стандартные MBR-партиции - 
как в винде. ѕоддерживаетс€ 4 стандартных master-партиции. » разбитый так винт
можно подключать как к PC с виндой (винда работает со своей FAT-партицией,
плюс утилитами можно сдампить в образ и обратно и CP/M-партицию), так и к
ќриону, который живет (грузитс€) в своей CP/M партиции и может монтировать
другие CP/M партиции этого или второго винта.
  ѕод CP/M дл€ ќриона дл€ этого € написал утилиту fdisk.com, котора€ в этом
стандарте (MBR-партиции) создает/удал€ет партиции и файловые системы CP/M
(с инициализацией файловой системы), FAT (с инициализацией файловой системы),
UZIX (только партиции, инит - внешней программой mkfs.com).
  “акже € портировал библиотеку работы с FAT(12/16/32) от ElmChan, написал дл€
нее оболочку (fat.com) и на ќрионе из-под CP/M можно в обе стороны пофайлово
обмениватьс€ данными с партици€ми винды. ¬ отличие от fdisk.com, fat.com
понимает extended партиции, т.к. WinXP дл€ FAT-партиций более 32G по дефолту
создает extended-партицию.
  » fat.com, и fdisk.com написаны абстрактно на €зыке — - они не лезут ни в
экран (работа идет стандартным VT-52), ни к контроллеру IDE - низкоуровнева€
запись/чтение 512B вынесены в отдельный драйвер (в моем случае - это
IDEBDOS.COM, написанный на asm).

