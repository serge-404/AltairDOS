        		Oписание ДОС Altair-DOS V3

        Требования к аппаратуре:
            1. Z80 по любой схеме
            2. Прерывания по стандарту Z80 CARD II (SP-Comp. Club),
               Диспетчер 16к, отключение ПЗУ - не используются.
            3. Привязка шины данных процессора к +5В резисторами
            4. Не менее 192К ОЗУ. (а лучше всего 1 Мбайт.)
            5. КНГМД выбирается по адресам F700/F720 (SP-Comp. Club)
            6. отционально - RTC (часы) на ИМС 512ВИ1 на порту F760

        Кратко о параметрах данной версии (V3.04).
            -   Система работает на CPU Z80 подключенному по любой схеме
              (проверялась на схемах от ОРИОН-СЕРВИСа и от SP-Comp.Club'а)
              Это достигнуто за счет отказа от применения диспетчера ОЗУ
              по 16к из схемы SP-Comp.Club'а во всех блоках системы -
              ранее любая более-менее приличная система пользовалась
              диспетчером ОЗУ по 16к и работала поэтому только на платах
              SP-Computer Club'а .
            -   Для работы системы необходимо наличие не менее 4-х страниц ОЗУ
              (т.е. 256к памяти), желательно наличие прерываний INT 50Гц
              (порт 0FBh) и расширенного экрана (480 или 512 точек).
            -   Система имеет расширенный драйвер консоли, созданный на основе
              известного цветного драйвера 480С в котором были устранены
              все ошибки (как просто глюки, так и функциональные недоработки).
            -   Драйвер консоли поддерживает часы на ИМС 512ВИ1 подключенные
              по методике из РАДИОЕЖЕГОДНИКА-89, но по существенно более
              простой схеме (всего 1 ИМС серии 555). Также поддерживаются
              часы на аппратных прерываниях 50Гц (при отсутствии 512ВИ1).
            -   Система полностью прозрачна для прерываний (INT 50 Гц) , преры-
              вания выключаются только на время дисковых операций, в остальное
              время они идут непрерывно (что ранее было невозможно из-за
              применения непеределанного цветного драйвера консоли 480С).
              Это не было достигнуто даже в Альтаир-ДОС V1.06, единственной
              системе (до Altair-DOS V3), грамотно обслуживавшей прерывания.
            -   Реализован опрос клавиатуры на прерываних, что делает работу в
              текстовых редакторах более приятной (п/п статус/чтение с консоли
              работают теперь корректнее), всегда присутствует мигающий курсор
            -   Система имеет самый большой размер ТРА (области транзитных
              комманд, т.е. пользовательской памяти) который для любой версии
              ДОС составляет величину не менее 58к, что стало возможным из-за
              примененной идеологии "виртуальной ДОС".
            -   В систему встроен механизм обработки ВАТ-файлов (пакетных файлов)
              с параметрами (аналогично программе SUBMIT), что существенно
              повышает пользовательские качества системы. ВАТ-файлы исполняются
              без записи на диск и могут быть вложенными.
            -   Система поддерживает такие нововведения, как имя диска (16 симв.),
              имена юзеров (каждый из 15 юзеров может иметь имя до 16 символов),
              структурную вложенность юзеров, позволяющую более наглядно орга-
              низовывать данные на диске, даты создания файлов (дата+время).
              Для создаваемых файлов автоматически записывается текущая дата.
            -   Процессор команд консоли (ССР) существенно доработан . Теперь
              он имеет 18 команд. Также увеличено число команд в файле кон-
              фигурации системы (CONFIG.SYS).
            -   Система имеет тимплет (автоповтор из буфера ранее введенных
              команд) на несколько команд и механизм подмен.
            -   Все конфигурационные системные файлы (CONFIG.SYS, AUTOEXEC.BAT),
              а также ВАТ-файлы записываются по-человечески (от логического
              начала к концу, а не наоборот, как это было принято в АСРМ).
            -   Команда  PATH  (установка юзера по умолчанию) в CONFIG.SYS
              позволяет намного эффективнее организовать работу с наиболее
              часто используемыми программами и драйверами.
            -   От своей бабки (ACPM) Altair-DOS V3 унаследовала возможность
              работы со всевозможными форматами записи на дискеты (DD/HD) - до
              1600к на дискету и принтера по схеме SP-Computer Club'а. На формат
              дискеты система настраивается сама (был бы ВООТ-сектор) при
              вызове ф-ии 13 BDOS. Поддерживаются два дисковых привода.
            -   дополнительно в версии 3.04 поддерживается возможность работы с 
              IDE-устройствами: в CONFIG.SYS можно настроить в качестве
              системных дисков любые два раздела (для разбивки HDD ипользуется
              стандарт MBR PC fdisk, поддерживаются только primary partitions)
              c двух поддерживаемых устройств (Master, Slave). Суммарное
              количество логических блоков подключенных партиций (одна или две
              партиции) не должен превышать 4096. Блок данных файловой системы,
              созданной, к примеру, программой FDISK составляет 8кб. Блок 
              данных дисководных версий CP/M Ориона обычно равен 2кб. Это 
              ограничение диктуется размером зарезервированного буфера ALV
              (буфера, в котором ОС помечает занятые/свободные лог. блоки),
              и в свою очередь влияет на размер TPA системы (увеличение ALV
              уменьшит размер TPA). Т.о. максимальный размер обслуживаемой
              файловой системы на IDE-партиции в данной версии ОС составляет
              32Mb (либо две ФС суммарным размером до 32Мб), если ФС созданы с
              8кб блоком (максимальный размер блока файловой системы CP/M 16Кб).  
            -   Концепция расширенной памяти, примененная в ДОС позволяет
              обслуживать до 1Мб (1048576 байт) памяти, исключая конфликты
              между драйверами (нет проблемы перекрытий и монопольного
              захвата векторов системы), что достигнуто благодаря встроенному
              в ДОС менеджеру расширенной памяти. Любой драйвер легко удаляется
              из системы. Система сама определяет доступную память.
            -   В расширенной памяти (XTPA) можно организовать виртуальный
              электронный диск (VDISK) размером до 256к.
            -   Примененый подход к использованию расширенной памяти, имеющейся
              в ОРИОНе, позволяет при помощи подпрограмм межбанкового (меж-
              страничного) сервиса свободно пользоваться любым кодом в любой
              странице памяти (напр., вызывать подпрограммы ДОС из любой стра-
              ницы памяти).
            -   Система полностью векторизирована - в специальной области
              размещены межбанковые (многостраничные) вектора BDOS/BIOS,
              программных и аппаратных прерываний, стандартных событий , что
              позволяет легко каскадировать (включать каскадно, т.е. друг за
              другом) по нескольку драйверов на любой вектор.
            -   Каскадирование вектора аппаратных прерываний (INT 50 Гц) позво-
              ляет реализовать программы, работающие в реальном времени и
              в "теневом" режиме - параллельно другим программам , т.е.
              можно реализавать параллельную работу ("многозадачность")
              любой СРМ программы в ТРА и специально разрабатываемых прило-
              жений, размещаемых менеджером памяти в дополнительной памяти -
              ХТРА . Такие программы уже есть (например, резидентный проигры-
              ватель музыкальных файлов для сопроцессора АY-8910/8912).
            -   ДОС имеет вектора стандартных системных событий, что дает 
              возможность на базе Altair-DOS V3 строить любую другю, более 
              совершенную систему, используя  только для доступа
              к устройствам.
            -   ДОС совместима с ОС СРМ 2.2, ибо иной путь бессмысленен -
              для СРМ наработано множество фирменных программ, написанных
              живыми классиками программирования (MicroSoft, Digital Rеsearch,
              Ashon Tate, Borland inc. и др.)

        Работа с любой дисковой ДОС начинается с ее загрузки с дискеты . Для
загрузки Altair-DOS V3 подойдет любой BOOT-загрузчик, размещающий считываемый им
бут-сектор в 1-й странице памяти (считая с 0). Для загрузки версии Altair-DOS V3
с поддержкой IDE нужно использовать соответствующий загрузчик или Монитор со
встроенной загрузкой с IDE. 
        В Altair-DOS V3.4 (с поддержкой IDE устройств) загрузчик грузит
с Master-IDE MasterBootRecord (MBR, первый сектор диска) и передает ему
управление. MBR содержит программу ZBootLoader, которая анализирует таблицу
разделов Master-IDE устройства, ищет на нем CP/M разделы, содержащие загрузчик
(boot-sector) и выводит на экран меню, позволяющее указать с какого из
разделов загружать систему. Элементы меню формируются из имен (меток) дисков
соответствующих разделов (16-символьная метка диска содержится в boot-sector
CP/M со смещением 20h). Mеняя метку диска соответствущего раздела (см. ниже
описание команды VOL) соответственно можно изменять меню ZBootLoader-а.
        Первым делом при загрузке ДОС проверяет присутствующую память
встроенным тестом памяти. Содержимое памяти при этом не портится, что позволяет
достаточно достоверно определить и изолировать от дальнейшего использования
неисправную память (см. "карта памяти"). При этом в левом верхнем углу экрана
ведется счетчик уже проверенной памяти. В случае если пользователю не нужен при
загрузке настолько подробный тест , достаточно нажать любую клавишу и система
перейдет от тщательного теста к быстрой проверке присутствия памяти, что
значительно ускоряет процесс загрузки. Если в ПК менее 192к памяти или испорчена
нужная для работы системы память, то система выдаст соответствующее сообщение
и прекратит свою инициализацию.
        Сразу после теста памяти производится загрузка стандартного драйвера
консоли. Этот драйвер полностью совместим с драйвером 480С (VT52) и содержит 
много дополнительных возможностей (см. "Искейп-коды драйвера консоли").
        Полезная информация: Если в процессе загрузки удерживать клавишу F4 (ctrl+C),
то система будет выполнять файл CONFIG.SYS в режиме трассировки - будет запрашивать
о необходимости выполнения каждой из строки CONFIG'a (Y/N-выполнять/не выполнять
строку, ESC-перейти от пошагового режима к обычному). Клавиша F5 (ctrl+D) -
прервать выполнение CONFIG'а.
        После загрузки системного драйвера в системе включаются прерывания (если
они есть, для включения прерываний INT 50Гц используется бит D6 в порте 0FBh -
стандарт Z80 CARD-II. Включение прерываний - единственная используемая фунция
порта 0FBh, т.е. пользователи Z80CARD Орион-сервиса останутся без прерываний,
только и всего), производится анализ присутствия в системе часов 512ВИ1, если
их нет, или информация о времени испорчена то выводится запрос о текущем
времени и дате. При отсутствии ИМС часов, их функции эмулируются (насколько это
возможно) на прерываниях. Все драйверs в Altair-DOS V3 имеют опознаватель AA,55,E7 ,
системный драйвер имеет имя DRIVER.SYS и всегда должен находиться в юзере 0
(в корневом - см."Структура юзеров"), как и CONFIG.SYS. Если системный драйвер
не найден, или имеет неверный опознаватель, то система выдаст соответствующее
сообщение и прекратит свою инициализацию.
        После выполнения файлов CONFIG.SYS и AUTOEXEC.BAT (см. "Команды файла
CONFIG.SYS" и "Пакетные файлы"). Пользователь попадает в систему (в CCP),
работа в которой по своим принципам аналогична СРМ. Перечень команд можно
получить, нажав : ?<CR> ("знак вопроса" и "ввод").


                Команды файла CONFIG.SYS
                ~~~~~~~~~~~~~~~~~~~~~~~~
        CONFIG.SYS - текстовый файл с системной информацией, используемой для
инициализации системы. Следите за правильностью составления файла CONFIG.SYS !
Неправильные строки система игнорирует.

 1.ASSIGN DRIVE <символ> = {FDD0 или FDD1 или
                            IDE0 <partition> или IDE1 <partition> или
                            VDISK <размер> или VDISK INKEY или
                            NONE или
                            <имя драйвера>}

Пример: назначить диску А: партицию 1 привода IDE-Master в слоте IDE0 -
         ASSIGN DRIVE A = IDE0 0
        назначить диску C: партицию 1 привода IDE-Slave в слоте IDE1 -
         ASSIGN DRIVE C = IDE0 1
        назначить диску А: партицию 2 привода IDE-Master в слоте IDE1 -
         ASSIGN DRIVE A = IDE1 2
        назначить диску C: партицию 2 привода IDE-Slave в слоте IDE0 -
         ASSIGN DRIVE C = IDE0 3
        назначить диску D: партицию 4 привода IDE-Slave в слоте IDE0 -
         ASSIGN DRIVE C = IDE0 7

        назначить диску A: дисковод A (привод 0) -
         ASSIGN DRIVE A = FDD0
        назначить диску B: дисковод B (привод 1) -
         ASSIGN DRIVE B = FDD1
        назначить диск C: как внешний с драйвером HARDDISK.SYS -
         ASSIGN DRIVE C = HARDDISK
        назначить диску E: эл. диск 160к из встроенного ОЗУ -
         ASSIGN DRIVE E = VDISK 160
        назначить диску E: эл. диск из встроенного ОЗУ и запросить его размер -
         ASSIGN DRIVE E = VDISK INKEY
        не назначать диск F: (то же, что и ничего не написать) -
         ASSIGN DRIVE F = NONE

    Символов дисков может быть от A(латинское) до P(латинское) включительно 
(A..P) как в стандарте CPM, разные логические диски (символы A..P) могут быть 
назначены на один физический диск (привод).
    IDE0,IDE1 - два равнозначных слота для подключения IDE-партиций любого из
                двух поддерживающихся IDE-приводов (Master, Slave). Номер
                партиции (в MBR-fdisk схеме каждое IDE-устройство имеет до 4-х
                партиций) и IDE-устройство кодируются в числе <partition> так:
                    0,2,4,6 - партиции 1,2,3,4 устройства IDE-Master,
                    1,3,5,7 - партиции 1,2,3,4 устройства IDE-Slave.
    FDD0      - дисковод с индексом 0 (A)
    FDD1      - дисковод с индексом 1 (B)
    VDISK - в качестве физ. диска использовать виртуальный электронный диск
из излишнего ОЗУ XTPA. (не более 256к и не более имеющегося свободного размера
ХТРА). При необходимости VDISK будет отформатирован (с запросом). Размер
диска можно задавать любой в пределах 4..255, при этом система округлит его
кратно четырем в большую сторону (чтобы полностью использовать сегменты XTPA).
T.e. если задать размер 13, то получится VDISK размером 16к, 255 - 256к. Если
вместо размера задать INKEY, то при загрузке система попросит ввести размер
электронного диска (это полезно для того, чтобы не редактировать постоянно
CONFIG.SYS, т.к. для разных сеансов работы может быть нужен разный объем VDISKа.
Инсталляция VDISKа должна идти до команды FIX_RAMTOP. После ее нее можно
переназначать приводы на электронный диск, но установить размер VDISKа нельзя.
Полезно последней командой CONFIGа назначить лог. диску A VDISK. В этом
случае при каждом сбросе дисковой системы не будет шуметь дисковод (т.к. к
нему не будет обращений). Пример такого CONFIGа :
        ASSIGN DRIVE B = FDD1
        ASSIGN DRIVE C = FDD0
        ASSIGN DRIVE E = VDISK INKEY
        DEVICE = VACCINE
        FIX_RAMTOP
        DEVICE = MSHELL29
        ; . . . . .
        ; . . . . .
        ASSIGN DRIVE A = VDISK

    Если диск инсталлирован как внешний (с именем драйвера), то система при
обращении к нему ничего не делает, полагая , что указанный драйвер сам, сидя
на векторах системы, в нужный момент получает управление и возвращает нужные
результаты. Драйвер можно указывать без расширения, по умолчанию используется
расширение "SYS".

 1a. AUTOFORMAT_VDISK
  При наличии в CONFIG.SYS этой команды VDISK будет отформатирован без
  запроса подтверждения.

 2. DEVICE = <имя драйвера> [ <параметры> ]

Пример: DEVICE = MSHELL

    Инсталлировать драйвер пользователя . Драйвер должен иметь опознаватель,
принятый в системе Altair-DOS V3. Параметры драйверу передаются и указателем в
рег. HL (как это делала АСРМ) и как положено в СРМ в ОЗУ  5Ch..6Ch..80h..0FFh.
Драйвер можно указывать без расширения, по умолчанию используется расширение 
"SYS".

 3. PATH <номер или имя_юзера>

Пример: PATH 1
        PATH USER_1

    Altair-DOS V3 допускает наличия в системе "Юзера по умолчанию" (PATH-юзера) -
юзера, в котором система делает попытку открыть файл, если в текущем юзере
открываемый файл не был найден , причем текущий юзер не изменяется. Файлы,
содержащиеся в PATH-юзере становятся как-бы видными из любого юзера при
открытии файла. PATH-свойство рапространяется так же на запись, чтение,
закрытие файла. Например, можно наиболее часто используемые файлы
сгруппировать в PATH-юзер и иметь к ним доступ из любого юзера.

 4. SET <подменяемая команда> = <подменяющая к.> [ & <подменяющая к.> & ... ]

Пример: SET ?? = CLS & TYPE HELP.TXT
        SET @ = WIDTH

    Вместо последовательности символов, заданной в CCP и совпадающей со строкой
<подменяемая команда> , после нажатия на <CR> (<ВК>) отработает список подме-
няющих команд. (Вместо знаков "&" будут вставлены символы CR-LF)

 5. LPT <F500 или F600>
 Устанавливает адрес порта принтера.

 6. CLS
 Аналогично соответствующей команде CCP (см. "Команды ССР").

 7. COLOR <цвет текста> <цвет фона>
 Аналогично соответствующей команде CCP (см. "Команды ССР").

 8. ECHO  <ОN или OFF или список строковых и числовых констант>
 Аналогично соответствующей команде CCP (см. "Команды ССР").

 9. PROMPT <ON или OFF>
 Аналогично соответствующей команде CCP (см. "Команды ССР").

 10. USER  <номер или имя юзера>
 Аналогично соответствующей команде CCP (см. "Команды ССР").

 11. WIDTH  <6 или 8>
 Аналогично соответствующей команде CCP (см. "Команды ССР").

 12. REM <комментарий>

Пример: REM Это комментарий
        ;   Это комментарий

        Строка, начинающаяся командой REM, игнорируется. Можно использовать
знак "точка с запятой".

 13. FIX_RAMTOP
Все драйвера , загруженные командами DEVICE и ASSIGN до команды FIX_RAMTOP,
не видны по карте драйверов, но занимают место в ХТРА (как системное ОЗУ).
Их нельзя удалить командой KILL в CCP. Драйвера, загруженные после команды
FIX_RAMTOP присутствуют в списке драйверов и их можно удалить, освободив
занимаемую ими память. Эту особенность можно использовать для применения в
системе более 13 драйверов (карта памяти менеджера расширенной памяти не
может отображать более 13 драйверов, что в обычных условиях более чем
достаточно для работы). До команды FIX_RAMTOP можно инсталлировать все
постоянно используемые драйвера (различных виртуальных дисков, вакцин-
антивирусов, менеджеров программ и т.п.).

        По умолчанию, (если в CONFIG.SYS нет соответствующих инструкций) ,
система делает следующие установки (которые естественно не отображаются при
загрузке):
        ASSIGN DRIVE C = IDE0 <партиция с которой загрузились>
        LPT F600
        ECHO ON
        PROMPT OFF
        USER 0
        WIDTH 8
        COLOR 0 0


        В процессоре команд консоли (ССР) системы Altair-DOS V3 процесс интерпретации
команды имеет 4 фазы :
       1. Проверяется , является ли команда именем строки подмены , если да
          - выполняется строка подмены.
       2. Проверяется , является ли команда встроенной командой ССР, если да
          - то команда исполняется.
       3. Проверяется , является ли команда именем ВАТ-файла , если да
          - исполняется этот ВАТ-файл.
       4. Проверяется , является ли команда именем СОМ-файла , если да
          - исполняется этот СОМ-файл.

                Команды CCP.
                ~~~~~~~~~~~~
    *  1. COLOR  <цвет текста> [<цвет фона>]

Пример: COLOR 3 13

   Команда служит для установки цветного или черно-белого режима экрана и
для установки цвета текста и фона . Параметр <цвет фона> может отсутствовать,
в этом случае будет изменен лишь цвет выводимого текста. Параметры кода цвета
могут принимать значения 0..15 (десятич.) .
   Команда  COLOR 0 0  устанавливает монохром.
   Команда без параметров устанавливает монохром.

    *  2. CLS

   Очистка экрана. Команда без параметров .

       3. DIR    [<диск>:][<файл(ы)>] [/D]

Пример: DIR B:*.MAC
        DIR *.TXT /D

   Команда служит для вывода оглавления диска (каталога). В сравнении со
стандартным CCP имеет следующие расширения :
        - перед выводом каталога выводится метка диска (если она есть)
        - каталог выводится либо в сокращенном варианте (только имена файлов)
          в несколько колонок - если ключ  /D  отсутствует, либо в более
          полном варианте (имена + даты + время создания файлов) - если
          задан ключ  /D .
        - после вывода каталога выводится общий размер диска (в килобайтах) и
          размер свободного дискового пространства (в килобайтах).
   Вывод оглавления диска можно прервать, нажав на любую клавишу.

    *  4. ECHO   <ОN или OFF или список строковых и числовых констант>

Пример: ECHO OFF
        ECHO 'Попищим ',7,7,7,7,7,"Еще попищим",7,7,7,7,7

   Команда служит для включения/выключения режима эхо-печати (отображения на
экране исполняемых команд) при выполнении подмен и ВАТ-файлов и для вывода
текстовых сообщений и однобайтовых символов (описываемых кодом 0..255), зада-
ваемых в команде как список констант - через запятую. Строковые константы
заключаются в кавычки или апострофы. Например, для вывода двух пробелов
можно записать :     ECHO 32,' '
   Можно выводить и параметры командной строки (см. пример ВАТ-файла)
   Команда очень удобна для выдачи на консоль управляющих кодов (0..31) и
искейп-последовательностей.
   В конце вывода списка параметров система от себя добавляет коды CR/LF
(возврат каретки и перевод строки).
   Особенность: в режиме ECHO OFF команда ERA не спрашивает подтверждения о
удалении, что удобно для пакетных файлов.


       5. ERA    [<диск>:]<файл(ы)>

Пример:  ERA  *.MAC

   Команда служит для удаления одного или группы файлов и отличается от стан-
дартного исполнения только тем, что в режиме  ECHO ON  запрашивает подтвержде-
ние об удалении.

    *  6. INSERT  <имя юзера кого вкладывать> <имя юзера куда вкладывать>

Пример:  INSERT FORMAT SYSTEM
         INSERT PASCAL

   Команда служит для отображения и изменения вложенности юзеров (определене
   нового "родителя" для юзера).
   Команда без параметров выводит на экран дерево юзеров, где вложенность
отображается отступами.
   Команда с одним параметром-именем юзера вкладывает этот юзер в корневой
(юзер 0).
   Команда с двумя параметрами вкладывает юзер, имя которого является первым
параметром, в юзер, имя которого является вторым параметром.

    *  7. KILL   <имя драйвера>

Пример: KILL PLAYER
        KILL PL*

   Команда служит для удаления из системы одного или группы драйверов. Если
драйвер с таким именем не найден, то система выведет соответствующее сообщение.
Для получения списка драйверов используется команда МЕМ.

    *  8. MEM

   Команда без параметров и служит для вывода информации о занятости памяти :
    - Если в дополнительной памяти (ХТРА) инсталлированы драйвера, то выводится
      список драйверов, где для каждого драйвера указывается его размер (в кб),
      начальный адрес в длинном формате (<банк>:<адрес>) и используемые этим
      драйвером системные вектора.
    - Выводится полный размер присутствующей в ПК исправной памяти (в кб) и
      размер свободной памяти в ХТРА (в кб).

    *  9. PROMPT [ON или OFF]

Пример:  PROMPT ON
         PROMPT
   Команда служит для переключения режима отображения в системном промпте
имени (номера если нет имени) юзера. Команда без параметров инвертирует признак
режима промпта. Например, для юзера с именем SYSTEM вид системного промпта :
   - в режиме  PROMPT ON  :      A:\SYSTEM>
   - в режиме  PROMPT OFF :      A>

       10.REN  <новое имя>=<старое имя>

Пример: REN CONSOLE.MAD=CONSOLE.MAC

   Команда служит для переименования файлов и полностью аналогична стандартному
СРР.

    *  11. MNT DRIVE:DEVICE_SLOT[.PARTITION] 

  - mount device   { FDD0 | FDD1 | IDE0 | IDE1 | VDISK | NONE } // NONE=unmount
       if device = { IDE0 | IDE1 } then also specify PARTITION (0,2,4,6=MASTER ; 1,3,5,7=SLAVE)
   to drive letter { DRIVE }

 MNT DRIVE:
  - show device, mounted to this drive letter

 MNT
  - show all devices, mounted to all drive letters


Пример: MNT A:FDD0
	MNT B:FDD1
	MNT C:IDE0.0
	MNT D:IDE1.3
        MNT E:VDISK
	MNT B:NONE
        MNT B:

  Команда служит для сопоставления символу диска одного из устройств:
    FDD0 или FDD1 - дисководы (обычно их называют дисководы А и B)
    IDE0,IDE1 - два равнозначных слота для подключения IDE-партиций любого из
                двух поддерживающихся IDE-приводов (Master, Slave). Номер
                партиции (в MBR-fdisk схеме каждое IDE-устройство имеет до 4-х
                партиций) и IDE-устройство кодируются в числе <partition> так:
                    0,2,4,6 - партиции 1,2,3,4 устройства IDE-Master,
                    1,3,5,7 - партиции 1,2,3,4 устройства IDE-Slave.
    VDISK - в качестве физ. диска использовать виртуальный электронный диск
            из излишнего ОЗУ XTPA. Диск должен быть описан(создан) в config.sys!
    NONE - отключить устройство от символа диска

  Команда без параметров выводит список всех сопоставлений (для дисков A...P)
  Команда c одним параметром-именем диска выводит сопоставление для этого диска


       12.TYPE   <имя файла>

Пример:  TYPE  BEST*.TXT

   Команда служит для просмотра текстовых файлов и отличается от стандарта
только тем, что имя можно указывать с метасимволами (*,?).
   Вывод текстового содержимого файла можно прервать, нажав на любую клавишу.


       13. USER   [<номер>/<имя юзера>][=<новое имя юзера>]

Пример: USER
        USER PASCAL
        USER SYSTEM=PROGRAMS

   Команда с одним параметром - числом (0..15) полностью аналогична стандарт-
ному CCP - выбирает соответствующий юзер.
   Команда без параметров служит для вывода "дерева юзеров" .
   Команда с одним параметром - именем юзера выбирает соответствующий юзер,
если он есть. Т.о. в любой юзер можно переходить как по номеру, так и по его
имени. Переходить можно из любого юзера в любой - вложенность не устанавливает
никаких приоритетов (в отличии от Альтаир-ДОС 1.06), что дает полную совместимость
со стандартной СРМ.
   Команда с двумя параметрами присваивает юзеру, имя которого является первым
параметром новое имя - второй параметр.
   Вместо команды USER можно набирать CD. Эти команды полностью аналогичны,
но CD не выводится в списке команд.

    *  14. VER

   Команда вызывается без параметров и выводит на экран номер версии системы.

    *  15. VOL  [<новое имя диска>]

Пример:  VOL
         VOL  VOLUME_LABEL

   Команда без параметров служит для просмотра метки диска (если она есть).
Команда с параметром устанавливает новую метку диска.

    *  16. WIDTH  [6/8]

Пример: WIDTH
        WIDTH 8

   Команда с параметром служит для выбора ширины шрифта (6/8 бит).
   Команда без параметров инвертирует предыдущую установку.

    *  17. /

   Команда вызывается без параметров и устанавливает юзер 0 (корневой).

    *  18. ?

   Команда вызывается без параметров и выводит на экран список команд ССР.

Примечание: знаком * отмечены новые команды CCP ( в сравнении со стандартным )


                Пакетные файлы.
                ~~~~~~~~~~~~~~~
        Для улучшения пользовательских качеств системы в Altair-DOS V3 введена
поддержка пакетных файлов (ПФ). ПФ - текстовые файлы, содержащие любые команды
ССР и имеющие расширение ВАТ. ПФ могут быть вложенными (из одного BAT-файла
можно вызывать другой). ПФ можно вызывать с параметрами , в тексте ПФ подста-
новка параметра обозначается символом % и цифрой номера параметра. Например,
при запуске ПФ  PRIMER.BAT :
        PRIMER  PARM1  PARM2  PARM3
параметры PARM1, PARM2, PARM3 будут обозначаться %1, %2, %3 соответственно.
Знак "точка с запятой" (;) в начале строки ПФ расценивается как обозначение
комментария. Такие строки не обрабатываются.

Пример ПФ для компиляции пакетом M80-L80 :
        ECHO OFF
        ECHO ' Компилируем ',%1,'.MAC пакетом M80-L80 '
        M80 =%1
        L80M %1,%1/N/E
        ERA %1.REL
        ECHO ON

    В системе существует специальный подвид ПФ - файл автозапуска, отрабаты-
ваемый каждый раз при загрузке системы - AUTOEXEC.BAT . От обычных ПФ его
отличает только одно - в нем нельзя использовать подстановку параметров, т.к.
он запускается не из CCP и значит строка параметров не формируется.
    Выполнение любого ВАТ-файла можно прервать, нажав F5 (ctrl+D).

